{% comment %}
Analytics Stats Cards Component

Displays summary statistics in card format for the analytics dashboard.

Context variables:
- stats: Dictionary containing all statistics
{% endcomment %}

<!-- Summary Statistics Cards -->
<div class="row g-4 mb-5">
    <!-- Total Applications -->
    <div class="col-sm-6 col-xl-3">
        <div class="stats-card card h-100 border-0 shadow-sm">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-start">
                    <div>
                        <p class="text-secondary text-uppercase small mb-2 fw-semibold" style="letter-spacing: 1px;">
                            Total Applications
                        </p>
                        <h2 class="fw-bold mb-0 display-6">{{ stats.total_applications|default:0 }}</h2>
                        <p class="text-muted small mb-0 mt-2">
                            <i class="bi bi-calendar-range me-1"></i>
                            Last {{ stats.days_filter }} days: {{ stats.recent_applications|default:0 }}
                        </p>
                    </div>
                    <div class="stats-icon" style="background: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(139, 92, 246, 0.1) 100%);">
                        <i class="bi bi-clipboard-check" style="color: #6366f1; font-size: 28px;"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Interviews -->
    <div class="col-sm-6 col-xl-3">
        <div class="stats-card card h-100 border-0 shadow-sm">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-start">
                    <div>
                        <p class="text-secondary text-uppercase small mb-2 fw-semibold" style="letter-spacing: 1px;">
                            Interviews
                        </p>
                        <h2 class="fw-bold mb-0 display-6">{{ stats.interview_stats.total_interviews|default:0 }}</h2>
                        <p class="text-warning small mb-0 mt-2">
                            <i class="bi bi-clock-history me-1"></i>
                            Upcoming: {{ stats.interview_stats.upcoming_interviews|default:0 }}
                        </p>
                    </div>
                    <div class="stats-icon" style="background: rgba(139, 92, 246, 0.1);">
                        <i class="bi bi-people" style="color: #8b5cf6; font-size: 28px;"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Offers -->
    <div class="col-sm-6 col-xl-3">
        <div class="stats-card card h-100 border-0 shadow-sm">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-start">
                    <div>
                        <p class="text-secondary text-uppercase small mb-2 fw-semibold" style="letter-spacing: 1px;">
                            Offers
                        </p>
                        <h2 class="fw-bold mb-0 display-6">{{ stats.status_breakdown.offer|default:0 }}</h2>
                        <p class="text-success small mb-0 mt-2">
                            <i class="bi bi-trophy me-1"></i>
                            Conversion: {{ stats.conversion_rate|default:0 }}%
                        </p>
                    </div>
                    <div class="stats-icon" style="background: rgba(16, 185, 129, 0.1);">
                        <i class="bi bi-trophy" style="color: #10b981; font-size: 28px;"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Response Rate -->
    <div class="col-sm-6 col-xl-3">
        <div class="stats-card card h-100 border-0 shadow-sm">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-start">
                    <div>
                        <p class="text-secondary text-uppercase small mb-2 fw-semibold" style="letter-spacing: 1px;">
                            Response Rate
                        </p>
                        <h2 class="fw-bold mb-0 display-6">{{ stats.response_rate|default:0 }}%</h2>
                        <p class="text-muted small mb-0 mt-2">
                            <i class="bi bi-graph-up me-1"></i>
                            Offers + Rejections
                        </p>
                    </div>
                    <div class="stats-icon" style="background: rgba(245, 158, 11, 0.1);">
                        <i class="bi bi-graph-up-arrow" style="color: #f59e0b; font-size: 28px;"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Status Breakdown -->
<div class="row g-4 mb-5">
    <div class="col-lg-6">
        <div class="card border-0 shadow-sm h-100">
            <div class="card-header bg-white border-0 pt-4 pb-3">
                <h5 class="fw-bold mb-0">
                    <i class="bi bi-pie-chart text-primary me-2"></i>
                    Status Breakdown
                </h5>
            </div>
            <div class="card-body">
                <div class="row g-3">
                    <div class="col-6">
                        <div class="p-3 rounded" style="background: rgba(156, 163, 175, 0.1);">
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="text-secondary small fw-semibold">Draft</span>
                                <span class="badge bg-secondary">{{ stats.status_breakdown.draft|default:0 }}</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="p-3 rounded" style="background: rgba(59, 130, 246, 0.1);">
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="text-primary small fw-semibold">Submitted</span>
                                <span class="badge bg-primary">{{ stats.status_breakdown.submitted|default:0 }}</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="p-3 rounded" style="background: rgba(245, 158, 11, 0.1);">
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="text-warning small fw-semibold">In Review</span>
                                <span class="badge bg-warning text-dark">{{ stats.status_breakdown.in_review|default:0 }}</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="p-3 rounded" style="background: rgba(139, 92, 246, 0.1);">
                            <div class="d-flex justify-content-between align-items-center">
                                <span style="color: #8b5cf6;" class="small fw-semibold">Interview</span>
                                <span class="badge" style="background: #8b5cf6;">{{ stats.status_breakdown.interview|default:0 }}</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="p-3 rounded" style="background: rgba(16, 185, 129, 0.1);">
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="text-success small fw-semibold">Offer</span>
                                <span class="badge bg-success">{{ stats.status_breakdown.offer|default:0 }}</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="p-3 rounded" style="background: rgba(239, 68, 68, 0.1);">
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="text-danger small fw-semibold">Rejected</span>
                                <span class="badge bg-danger">{{ stats.status_breakdown.rejected|default:0 }}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-lg-6">
        <div class="card border-0 shadow-sm h-100">
            <div class="card-header bg-white border-0 pt-4 pb-3">
                <h5 class="fw-bold mb-0">
                    <i class="bi bi-calendar-event text-primary me-2"></i>
                    Deadline Overview
                </h5>
            </div>
            <div class="card-body">
                <div class="row g-3">
                    <div class="col-12">
                        <div class="p-3 rounded" style="background: rgba(239, 68, 68, 0.1);">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <i class="bi bi-exclamation-triangle text-danger me-2"></i>
                                    <span class="text-danger fw-semibold">Overdue</span>
                                </div>
                                <span class="badge bg-danger">{{ stats.deadline_stats.overdue|default:0 }}</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="p-3 rounded" style="background: rgba(245, 158, 11, 0.1);">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <i class="bi bi-calendar-week text-warning me-2"></i>
                                    <span class="text-warning fw-semibold">Due This Week</span>
                                </div>
                                <span class="badge bg-warning text-dark">{{ stats.deadline_stats.due_this_week|default:0 }}</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="p-3 rounded" style="background: rgba(59, 130, 246, 0.1);">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <i class="bi bi-calendar-month text-primary me-2"></i>
                                    <span class="text-primary fw-semibold">Due This Month</span>
                                </div>
                                <span class="badge bg-primary">{{ stats.deadline_stats.due_this_month|default:0 }}</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Type Breakdown -->
                <div class="mt-4 pt-3 border-top">
                    <h6 class="fw-semibold mb-3 small text-secondary text-uppercase" style="letter-spacing: 1px;">
                        Application Types
                    </h6>
                    <div class="d-flex gap-3">
                        <div class="flex-grow-1 p-3 rounded border">
                            <div class="text-center">
                                <div class="fw-bold display-6 mb-1">{{ stats.type_breakdown.job|default:0 }}</div>
                                <div class="text-muted small">Job Applications</div>
                            </div>
                        </div>
                        <div class="flex-grow-1 p-3 rounded border">
                            <div class="text-center">
                                <div class="fw-bold display-6 mb-1">{{ stats.type_breakdown.scholarship|default:0 }}</div>
                                <div class="text-muted small">Scholarships</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% load static %}

<!-- Guest Navbar - Modern Design with Gradient CTA -->
<nav class="navbar navbar-expand-lg navbar-light sticky-top" style="background: rgba(255, 255, 255, 0.98); backdrop-filter: blur(20px); border-bottom: 1px solid var(--color-gray-200); box-shadow: var(--shadow-sm);">
    <div class="container px-4">
        <!-- Logo/Brand -->
        <a class="navbar-brand d-flex align-items-center" href="{% url 'home' %}" style="transition: transform var(--transition-fast);">
            <div style="width: 40px; height: 40px; background: var(--color-primary-gradient); border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center; box-shadow: var(--shadow-glow); margin-right: var(--spacing-sm);">
                <i class="bi bi-bookmark-star-fill text-white fs-5"></i>
            </div>
            <span style="font-size: 20px; font-weight: 700; letter-spacing: -0.5px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">AppTracker</span>
        </a>

        <!-- Mobile Toggle Button -->
        <button class="navbar-toggler border-0 p-2" type="button" data-bs-toggle="collapse" data-bs-target="#navbarMain" aria-controls="navbarMain" aria-expanded="false" aria-label="Toggle navigation" style="border-radius: var(--radius-md);">
            <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Navigation Links -->
        <div class="collapse navbar-collapse" id="navbarMain">
            {% if user.is_authenticated %}
                <!-- Authenticated Navigation - Redirect to Dashboard -->
                <ul class="navbar-nav ms-auto align-items-lg-center gap-2">
                    <li class="nav-item">
                        <a class="btn btn-primary px-4" href="{% url 'tracker:dashboard' %}" style="border-radius: var(--radius-lg);">
                            <i class="bi bi-grid me-2"></i>Go to Dashboard
                        </a>
                    </li>
                </ul>
            {% else %}
                <!-- Guest Navigation -->
                <ul class="navbar-nav ms-auto align-items-lg-center gap-1">
                    <li class="nav-item">
                        <a class="nav-link px-3 py-2" href="#features" style="font-weight: 500; color: var(--text-secondary); transition: color var(--transition-fast); border-radius: var(--radius-md);">
                            Features
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link px-3 py-2" href="#how-it-works" style="font-weight: 500; color: var(--text-secondary); transition: color var(--transition-fast); border-radius: var(--radius-md);">
                            How It Works
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link px-3 py-2" href="#about" style="font-weight: 500; color: var(--text-secondary); transition: color var(--transition-fast); border-radius: var(--radius-md);">
                            About
                        </a>
                    </li>
                    <li class="nav-item ms-lg-2">
                        <a class="btn btn-outline-primary px-4" href="{% url 'accounts:login' %}" style="border-radius: var(--radius-lg); font-weight: 600;">
                            Sign In
                        </a>
                    </li>
                    <li class="nav-item ms-lg-2">
                        <a class="btn btn-primary px-4" href="{% url 'accounts:signup' %}" style="border-radius: var(--radius-lg); font-weight: 600; background: var(--color-primary-gradient); box-shadow: var(--shadow-md);">
                            <i class="bi bi-rocket-takeoff me-2"></i>Get Started Free
                        </a>
                    </li>
                </ul>
            {% endif %}
        </div>
    </div>
</nav>

<style>
    /* Navbar hover effects */
    .navbar-brand:hover {
        transform: translateX(4px);
    }

    .nav-link:hover {
        color: var(--color-primary) !important;
        background: var(--color-gray-100);
    }

    .navbar-toggler:hover {
        background: var(--color-gray-100);
    }
</style>

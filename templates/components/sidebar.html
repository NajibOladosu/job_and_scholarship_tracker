{% load static %}

<!-- Sidebar Navigation -->
<aside class="sidebar" id="sidebar">
    <div class="sidebar-content">
        <!-- Sidebar Header with Logo -->
        <div class="sidebar-header">
            <a href="/" class="sidebar-brand">
                <div class="brand-icon">
                    <i class="bi bi-bookmark-star-fill"></i>
                </div>
                <span class="brand-text">AppTracker</span>
            </a>
        </div>

        <!-- Navigation Links -->
        <nav class="sidebar-nav">
            <ul class="nav-list">
                <li class="nav-item">
                    <a href="{% url 'tracker:dashboard' %}" class="nav-link {% if '/tracker/' in request.path %}active{% endif %}">
                        <i class="bi bi-grid nav-icon"></i>
                        <span class="nav-text">Dashboard</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a href="{% url 'tracker:application_create' %}" class="nav-link {% if 'application_form' in request.path or 'application/create' in request.path %}active{% endif %}">
                        <i class="bi bi-plus-circle nav-icon"></i>
                        <span class="nav-text">New Application</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a href="{% url 'documents:document_list' %}" class="nav-link {% if '/documents/' in request.path and 'upload' not in request.path %}active{% endif %}">
                        <i class="bi bi-file-earmark-text nav-icon"></i>
                        <span class="nav-text">Documents</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a href="{% url 'documents:upload' %}" class="nav-link {% if 'upload' in request.path %}active{% endif %}">
                        <i class="bi bi-cloud-upload nav-icon"></i>
                        <span class="nav-text">Upload</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a href="{% url 'tracker:note_list' %}" class="nav-link {% if '/tracker/notes/' in request.path %}active{% endif %}">
                        <i class="bi bi-journal-text nav-icon"></i>
                        <span class="nav-text">Notes</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a href="{% url 'tracker:interview_list' %}" class="nav-link {% if '/tracker/interviews/' in request.path or '/tracker/interview/' in request.path %}active{% endif %}">
                        <i class="bi bi-calendar-check nav-icon"></i>
                        <span class="nav-text">Interviews</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a href="{% url 'tracker:analytics' %}" class="nav-link {% if '/tracker/analytics/' in request.path %}active{% endif %}">
                        <i class="bi bi-graph-up nav-icon"></i>
                        <span class="nav-text">Analytics</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a href="{% url 'tracker:archive_list' %}" class="nav-link {% if '/tracker/archive/' in request.path %}active{% endif %}">
                        <i class="bi bi-archive nav-icon"></i>
                        <span class="nav-text">Archive</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a href="{% url 'notifications:list' %}" class="nav-link {% if '/notifications/' in request.path %}active{% endif %}">
                        <i class="bi bi-bell nav-icon"></i>
                        <span class="nav-text">Notifications</span>
                    </a>
                </li>
            </ul>

            <!-- User Section -->
            <ul class="nav-list" style="margin-top: 2rem; padding-top: 2rem; border-top: 1px solid rgba(255, 255, 255, 0.1);">
                <li class="nav-item">
                    <a href="{% url 'accounts:profile' %}" class="nav-link {% if '/accounts/profile' in request.path %}active{% endif %}">
                        <i class="bi bi-person nav-icon"></i>
                        <span class="nav-text">Profile</span>
                    </a>
                </li>

                <li class="nav-item">
                    <form method="post" action="{% url 'accounts:logout' %}" class="m-0">
                        {% csrf_token %}
                        <button type="submit" class="nav-link w-100 border-0 text-start" style="background: transparent; cursor: pointer;">
                            <i class="bi bi-box-arrow-right nav-icon"></i>
                            <span class="nav-text">Sign Out</span>
                        </button>
                    </form>
                </li>
            </ul>
        </nav>

        <!-- Sidebar Footer -->
        <div class="sidebar-footer">
            <div class="user-info">
                <div class="user-avatar">
                    {{ request.user.first_name|first|upper|default:"U" }}{{ request.user.last_name|first|upper|default:"" }}
                </div>
                <div class="user-details">
                    <div class="user-name">{{ request.user.get_full_name|default:request.user.email|truncatewords:2 }}</div>
                    <div class="user-email">{{ request.user.email|truncatechars:25 }}</div>
                </div>
            </div>
        </div>
    </div>
</aside>

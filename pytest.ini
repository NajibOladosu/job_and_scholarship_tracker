[pytest]
# Django settings module
DJANGO_SETTINGS_MODULE = config.settings

# Python files to search for tests
python_files = test_*.py *_test.py

# Python classes to search for tests
python_classes = Test* *Tests

# Python functions to search for tests
python_functions = test_*

# Directories to ignore
norecursedirs = .git .tox venv env node_modules migrations __pycache__ static media templates

# Additional command line options
addopts =
    --verbose
    --strict-markers
    --tb=short
    --reuse-db
    --nomigrations
    --cov=.
    --cov-report=html
    --cov-report=term-missing:skip-covered
    --cov-config=.coveragerc
    --disable-warnings

# Markers for categorizing tests
markers =
    unit: Unit tests that test individual components in isolation
    integration: Integration tests that test multiple components together
    slow: Tests that take a long time to run
    api: Tests for API endpoints
    celery: Tests involving Celery tasks
    external: Tests that require external services (should be mocked)
    permissions: Tests for user permissions and authorization

# Test discovery patterns
testpaths =
    accounts/tests
    tracker/tests
    documents/tests
    notifications/tests
    services/tests

# Django database configuration
django_find_project = false

# Coverage settings (also see .coveragerc)
# Omit certain patterns from coverage
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning

# Console output
console_output_style = progress

# Minimum Python version
minversion = 6.0
